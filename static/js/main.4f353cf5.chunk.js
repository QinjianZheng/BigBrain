(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{114:function(e,t,n){e.exports={main:"NewGamePage_main__3qCBx"}},148:function(e,t,n){},149:function(e,t,n){},161:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(1),c=n.n(r),o=n(18),s=n.n(o),i=(n(148),n(149),n(22)),l=n(23),u=n(8),d=n.n(u),j=n(13),b=n(7),m=n(86),p=n.n(m),x=n(14),O=n(15);function h(){var e=Object(x.a)([""," 0.25s ease-in-out"]);return h=function(){return e},e}function f(){var e=Object(x.a)(["\n  border: solid 1px rgb(51, 51, 51);\n  background-color: white;\n  color: black;\n  &:hover {\n      opacity: 0.6;\n      animation: ",";\n  }\n"]);return f=function(){return e},e}function v(){var e=Object(x.a)([""," 0.25s ease-in-out"]);return v=function(){return e},e}function g(){var e=Object(x.a)(["\n            background-color: ",";\n            color: ",";\n            &:hover {\n                background-color: ",";\n                animation: ",";\n            }\n        "]);return g=function(){return e},e}function y(){var e=Object(x.a)(["\n    0% {\n        transform: scale(1);\n        border-radius: 4px;\n    }\n\n    50% {\n        transform: scale(1.01);\n    }\n\n    75% {\n        transform: scale(0.99);\n    }\n\n    100% {\n        transform: scale(1);\n    }\n"]);return y=function(){return e},e}function w(){var e=Object(x.a)(["\n    ",";\n    cursor: pointer;\n    font-weight: bold;\n    border-radius: 4px;\n    padding: 10px 16px;\n    min-width: 90px;\n    box-sizing: border-box;\n"]);return w=function(){return e},e}function k(){var e=Object(x.a)(["\n    border: 0;\n    padding: 0;\n    font-family: inherit;\n    font-weight: normal;\n    background-color: unset;\n    outline: none;\n"]);return k=function(){return e},e}var C=Object(O.a)(k()),A=O.b.button(w(),C),T=Object(O.c)(y()),S=function(e,t,n){return Object(O.b)(A)(g(),e,n?"white":"black",t,(function(e){return e.animated?Object(O.a)(v(),T):void 0}))},_=S("#19aaee","#33bbff",!0),E=S("#d5d7d7","#edf0f2",!1),q=S("#7d2ae8","#8d39fa",!0),R=S("rgb(38, 137, 12)","rgb(35, 126, 11)",!0),N=S("rgb(220, 0, 78)","rgb(154, 0, 54)",!0),B=Object(O.b)(A)(f(),(function(e){return e.animated?Object(O.a)(h(),T):void 0})),P=S("white","#f0f0f0",!1),I=n(42),H=n.n(I),z=n(5),F=n(109),G=n(110),D=function(){function e(t){Object(F.a)(this,e),this.url=t}return Object(G.a)(e,[{key:"makeAPIRequest",value:function(e,t){return function(e,t){return fetch(e,t).then((function(e){return e})).catch((function(e){return console.warn("API_ERROR: ".concat(e.message))}))}("".concat(this.url,"/").concat(e),t)}}]),e}(),L=c.a.createContext(null),Q=function(e){var t=e.children,n=Object(r.useState)({modalActive:!1,overlayActive:!1,modalHeaderText:"",modalBodyText:Object(a.jsx)(a.Fragment,{}),modalColors:"default"}),c=Object(b.a)(n,2),o=c[0],s=c[1],i=Object(r.useState)(new D("http://8.140.23.228")),l={api:[Object(b.a)(i,1)[0]],modalStatus:[o,s]};return Object(a.jsx)(L.Provider,{value:l,children:t})},W=new D("http://8.140.23.228"),M=function(e){var t=e.className,n=Object(l.g)(),c=Object(r.useContext)(L),o=Object(b.a)(c.modalStatus,2)[1],s=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.makeAPIRequest("admin/auth/logout",{method:"POST",headers:{accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:if(t=e.sent,e.prev=3,200!==t.status){e.next=10;break}localStorage.clear(),console.log("logout!"),n.push("/login"),e.next=14;break;case 10:return e.next=12,t.json();case 12:a=e.sent,o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log("ERROR",e.t0),o((function(t){return Object(z.a)(Object(z.a)({},t),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalHodyText:e.t0.toString(),modalColors:"error"})}));case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(E,{label:"logout",className:t,onClick:s,children:Object(a.jsx)("span",{children:"Log out"})})},J=function(e){var t=e.visibilities,n=e.exit,r=e.confirm,c=t.map((function(e){return"true"===e?"normal":"hidden"}));return Object(a.jsxs)("nav",{children:[Object(a.jsx)("div",{children:localStorage.getItem("token")?Object(a.jsx)(i.b,{to:"/",className:H.a.logo,children:"BigBrain"}):Object(a.jsx)(i.b,{to:"/login",className:H.a.logo,children:"BigBrain"})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(i.b,{to:"/login",className:H.a.path,children:Object(a.jsx)(_,{className:H.a[c[0]],children:Object(a.jsx)("span",{children:"Log in"})})}),Object(a.jsx)(i.b,{to:"/register",className:H.a.path,children:Object(a.jsx)(q,{className:H.a[c[1]],children:Object(a.jsx)("span",{children:"Register"})})}),Object(a.jsx)(M,{className:H.a[c[2]]}),Object(a.jsx)(B,{label:"exit",className:H.a[c[3]],onClick:n,children:Object(a.jsx)("span",{children:"Exit"})}),Object(a.jsx)(R,{label:"confirm",className:H.a[c[4]],onClick:r,children:Object(a.jsx)("span",{children:"Done"})})]})]})},Y=n(66),U=n.n(Y),K=n(97),V=n(196),X=function(e){var t=Object(r.useState)(!0),n=Object(b.a)(t,2),c=n[0],o=n[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:"Password"}),Object(a.jsxs)("div",{className:U.a.passwordField,children:[Object(a.jsx)("input",{name:e.name,type:c?"password":"text",className:U.a.passwordArea,value:e.value,onChange:e.onChange,onKeyDown:e.onKeyDown}),Object(a.jsx)(Z,{passwordHide:c,onClick:function(){return o(!c)}})]})]})},Z=function(e){var t=e.passwordHide,n=e.onClick;return Object(a.jsx)("span",{children:t?Object(a.jsx)(V.a,{title:"Show Password",children:Object(a.jsx)("span",{children:Object(a.jsx)(K.a,{"aria-label":"show password",className:U.a.showPasswordLogo,onClick:n})})}):Object(a.jsx)(V.a,{title:"Hide Password",children:Object(a.jsx)("span",{children:Object(a.jsx)(K.b,{"aria-label":"hide password",className:U.a.showPasswordLogo,onClick:n})})})})},$=n(98),ee=n.n($),te=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:e.label}),Object(a.jsx)("div",{className:ee.a.inputField,children:Object(a.jsx)("input",{type:"text",name:e.name,className:ee.a.inputArea,value:e.value,onChange:e.onChange,onKeyDown:e.onKeyDown})})]})},ne=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),s=Object(b.a)(o,2),u=s[0],m=s[1],x=Object(r.useState)(""),O=Object(b.a)(x,2),h=O[0],f=O[1],v=Object(r.useState)(!1),g=Object(b.a)(v,2),y=g[0],w=g[1],k=Object(l.g)(),C=new D("http://8.140.23.228"),A=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.makeAPIRequest("admin/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n,password:u})});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:a=e.sent,200===t.status?(localStorage.setItem("token",a.token),w(!1),f(""),k.push("/")):(w(!0),f(a.error)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),w(!0),f("Sorry! Can' connect to the server.");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return localStorage.getItem("token")?Object(a.jsx)(l.a,{to:"/"}):Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["true","true","false","false","false"]}),Object(a.jsxs)("div",{className:p.a.main,children:[Object(a.jsx)("h2",{children:"Log in"}),Object(a.jsx)(te,{name:"email",label:"Email",value:n,onChange:function(e){return c(e.target.value)}}),Object(a.jsx)(X,{name:"password",value:u,onChange:function(e){return m(e.target.value)}}),Object(a.jsx)(_,{label:"login-button",animated:!0,className:p.a.button,onClick:A,children:Object(a.jsx)("span",{children:"Log in"})}),Object(a.jsx)("p",{className:p.a[y?"error":"message"],children:h}),Object(a.jsxs)("p",{children:["Don't have an account? ",Object(a.jsx)(i.b,{to:"/register",children:"Sign up"})]})]})]})},ae=n(87),re=n.n(ae),ce=function(){var e=Object(r.useContext)(L),t=Object(b.a)(e.api,1)[0],n=Object(l.g)(),c=Object(r.useState)(""),o=Object(b.a)(c,2),s=o[0],i=o[1],u=Object(r.useState)(""),m=Object(b.a)(u,2),p=m[0],x=m[1],O=Object(r.useState)(""),h=Object(b.a)(O,2),f=h[0],v=h[1],g=Object(r.useState)(""),y=Object(b.a)(g,2),w=y[0],k=y[1],C=Object(r.useState)(!1),A=Object(b.a)(C,2),T=A[0],S=A[1],_=function(){var e=Object(j.a)(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.makeAPIRequest("admin/auth/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:p,password:f,name:s})});case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:r=e.sent,200===a.status?(localStorage.setItem("token",r.token),S(!1),k(""),n.push("/")):(S(!0),k(r.error)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),S(!0),k("Sorry! Can' connect to the server.");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["true","true","false","false","false"]}),Object(a.jsxs)("div",{className:re.a.main,children:[Object(a.jsx)("h2",{children:"Register"}),Object(a.jsx)(te,{label:"Name",name:"name",onChange:function(e){return i(e.target.value)},value:s}),Object(a.jsx)(te,{label:"Email",name:"email",onChange:function(e){return x(e.target.value)},value:p}),Object(a.jsx)(X,{name:"password",onChange:function(e){return v(e.target.value)},value:f}),Object(a.jsx)(q,{label:"register-button",animated:!0,className:re.a.button,onClick:_,children:Object(a.jsx)("span",{children:"Sign up"})}),Object(a.jsx)("p",{className:re.a[T?"error":"message"],children:w})]})]})},oe=n(88),se=n.n(oe);function ie(e){if(!["image/jpeg","image/png","image/jpg"].find((function(t){return t===e.type})))throw Error("provided file is not a png, jpg or jpeg image.");var t=new FileReader,n=new Promise((function(e,n){t.onerror=n,t.onload=function(){return e(t.result)}}));return t.readAsDataURL(e),n}var le=n(24),ue=n.n(le),de=n(112),je=n(80),be=n(28),me=n(37),pe=n(79),xe=n(113),Oe=n(43),he=n.n(Oe),fe=function(e){var t=e.toEditGamePage,n=e.deleteGame,c=Object(r.useState)(!1),o=Object(b.a)(c,2),s=o[0],i=o[1];return Object(r.useEffect)((function(){var e=function(){return i(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]),Object(a.jsxs)("div",{className:he.a.moreOptionsWrapper,children:[Object(a.jsx)(ve,{onClick:function(e){e.stopPropagation(),i(!s)}}),s&&Object(a.jsxs)("div",{className:he.a.dropdown,children:[Object(a.jsx)(ge,{onClick:t,title:"Edit",label:"Edit-game",children:Object(a.jsx)(pe.a,{className:he.a.icon})}),Object(a.jsx)(ge,{onClick:n,title:"Delete",label:"Delete-game",children:Object(a.jsx)(xe.a,{className:he.a.icon})})]})]})},ve=function(e){var t=e.onClick,n=e.dropdown;return Object(a.jsx)(me.e,{"aria-label":"open-dropdown","aria-expanded":n,className:he.a.moreOptions,onClick:t})},ge=function(e){var t=e.onClick,n=e.children,r=e.title,c=e.label;return Object(a.jsx)("div",{className:he.a.item,children:Object(a.jsx)(A,{label:c,className:he.a.button,onClick:t,children:Object(a.jsx)("div",{className:he.a.innerItem,children:Object(a.jsxs)("span",{className:he.a.content,children:[Object(a.jsx)("span",{children:n}),Object(a.jsx)("p",{children:r})]})})})})},ye=function(e){var t=e.id,n=e.gameDelete,c=e.setGameDelete,o=Object(l.g)(),s=Object(r.useContext)(L),i=Object(b.a)(s.api,1)[0],u=Object(b.a)(s.modalStatus,2)[1],m=Object(r.useState)(!1),p=Object(b.a)(m,2),x=p[0],O=p[1],h=Object(r.useState)(""),f=Object(b.a)(h,2),v=f[0],g=f[1],y=Object(r.useState)(0),w=Object(b.a)(y,2),k=w[0],C=w[1],T=Object(r.useState)(""),S=Object(b.a)(T,2),B=S[0],P=S[1],I=Object(r.useState)({questions:[]}),H=Object(b.a)(I,2),F=H[0],G=H[1],D=function(){var e=Object(j.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.makeAPIRequest("admin/quiz/".concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({questions:n.questions,thumbnail:n.thumbnail,name:n.name})});case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:r=e.sent,200===a.status?C((function(e){return e+1})):u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:r.error,modalColors:"error"})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(d.a.mark((function e(a){var r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.makeAPIRequest("admin/quiz/".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return r=e.sent,e.prev=3,e.next=6,r.json();case 6:o=e.sent,200===r.status?c(!n):u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:o.error,modalColors:"error"})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.makeAPIRequest("admin/quiz/".concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",a);case 11:u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(d.a.mark((function e(){var n,r,c,s,l,j;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("end session",F.active),e.next=3,i.makeAPIRequest("admin/quiz/".concat(t,"/end"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return n=e.sent,e.prev=4,e.next=7,n.json();case 7:r=e.sent,200===n.status?(c={positon:"relative"},s={fontSize:"1.2em",marginBlockStart:"0"},l={marginLeft:"5px"},j={position:"absolute",right:"10px",bottom:"5px"},O(!1),g(""),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Session Ended!",modalBodyText:Object(a.jsxs)("div",{style:c,children:[Object(a.jsx)("p",{style:s,children:"Would you like to view the results?"}),Object(a.jsxs)("div",{style:j,children:[Object(a.jsx)(_,{"aria-label":"see-result",style:l,onClick:function(){o.push("/game/result/"+v),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!1,overlayActive:!1,modalBodyText:Object(a.jsx)(a.Fragment,{})})}))},children:"Yes"}),Object(a.jsx)(E,{"aria-label":"cancel",style:l,onClick:function(){u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!1,overlayActive:!1,modalBodyText:Object(a.jsx)(a.Fragment,{})})}))},children:"No"})]})]}),modalColors:"notification"})}))):u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:r.error,modalColors:"error"})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(d.a.mark((function e(){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("start session"),e.next=3,i.makeAPIRequest("admin/quiz/".concat(t,"/start"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return n=e.sent,e.prev=4,e.next=7,n.json();case 7:if(a=e.sent,200!==n.status){e.next=16;break}return O(!0),e.next=12,Y();case 12:r=e.sent,u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Session Started!",modalBodyText:r,modalColors:"success"})})),e.next=17;break;case 16:u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.makeAPIRequest("admin/quiz/".concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",a.active);case 11:u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.target.files[0]);case 2:return n=e.sent,console.log(t.target.files),P(n),(a=Object(z.a)({},F)).thumbnail=n,e.next=9,D(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(""),e.next=3,i.makeAPIRequest("admin/quiz/".concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({thumbnail:"NULL"})});case 3:return n=e.sent,e.prev=4,e.next=7,n.json();case 7:a=e.sent,200===n.status?C((function(e){return e+1})):u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("ERROR",e.t0),u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,console.log(t),G(t),g(t.active),P(t.thumbnail),t.active&&O(!0);case 8:case"end":return e.stop()}}),e)}))),[t,x,k]);var V=function(){o.push("/game/"+t)};return Object(a.jsxs)("div",{className:ue.a.card,children:[Object(a.jsxs)("div",{className:ue.a.thumbnail,children:[B&&"NULL"!==B?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{className:ue.a.img,src:B,alt:"question thumbnail"}),Object(a.jsx)(be.b,{className:ue.a.removeButton,onClick:K})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("label",{htmlFor:"add-image".concat(t),children:Object(a.jsx)(je.a,{className:ue.a.addImageIcon})}),Object(a.jsx)("input",{type:"file",id:"add-image".concat(t),file:B,onChange:U,hidden:!0})]}),Object(a.jsxs)("span",{className:ue.a.questionNum,children:[F.questions.length," Question"]})]}),Object(a.jsxs)("div",{className:ue.a.info,children:[Object(a.jsxs)("div",{className:ue.a.rightTopContainer,children:[Object(a.jsx)("h3",{label:"game-name",children:F.name}),Object(a.jsx)("div",{className:ue.a.gameStatus,children:x?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:ue.a.gameButtons,children:[Object(a.jsx)(N,{"aria-label":"end-game",className:ue.a.button,onClick:M,children:"End"}),Object(a.jsx)(q,{"aria-label":"lobby",className:ue.a.button,onClick:function(){return o.push("/lobby/".concat(v,"/").concat(t,"/0"))},children:"Lobby"})]}),Object(a.jsx)(de.CopyToClipboard,{text:"http://192.168.50.45:3000/play/join/".concat(v,"/").concat(t),onCopy:function(){u((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Copied!",modalBodyText:"Link http://192.168.50.45:3000/play/join/".concat(v,"/").concat(t," is copied"),modalColors:"success"})}))},children:Object(a.jsx)(A,{"aria-label":"copy-join-link",className:ue.a.copyButton,onClick:function(){return console.log(v)},children:"Copy Link to Join"})})]}):Object(a.jsx)(R,{"aria-label":"start-game",className:ue.a.confrimButton,onClick:J,children:"Start"})})]}),Object(a.jsxs)("div",{className:ue.a.metadata,children:[Object(a.jsxs)("span",{children:[function(){var e=0;return F.questions.forEach((function(t){return e+=parseInt(t.timeLimit,10)})),e}()," Seconds"]}),Object(a.jsxs)("div",{className:ue.a.buttons,children:[Object(a.jsx)(_,{className:ue.a.button,onClick:V,children:Object(a.jsx)("span",{children:"Edit"})}),Object(a.jsx)(E,{className:ue.a.button,onClick:Q,children:Object(a.jsx)("span",{children:"Delete"})})]}),Object(a.jsx)(fe,{deleteGame:Q,toEditGamePage:V})]})]})]})},we=n(0);function ke(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-width: 300px;\n  background-color: white;\n  box-shadow: 0 0 5px rgba(0,0,0,0.2);\n"]);return ke=function(){return e},e}var Ce=O.b.div(ke()),Ae=function(){var e=Object(r.useContext)(L),t=Object(r.useState)([]),n=Object(b.a)(t,2),c=n[0],o=n[1],s=Object(r.useState)(!1),i=Object(b.a)(s,2),u=i[0],m=i[1],p=Object(r.useState)(!1),x=Object(b.a)(p,2),O=x[0],h=x[1],f=Object(b.a)(e.api,1)[0],v=Object(b.a)(e.modalStatus,2)[1],g=Object(r.useState)(!1),y=Object(b.a)(g,2),w=y[0],k=y[1],C=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.makeAPIRequest("admin/quiz",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(n=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",n.quizzes);case 11:v((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:n.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),v((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=5;break}return e.next=3,C();case 3:t=e.sent,o(t);case 5:case"end":return e.stop()}}),e)}))),[u,O]),localStorage.getItem("token")?O?Object(a.jsx)(l.a,{to:"/newgame"}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","true","false","false"]}),Object(a.jsxs)(Ce,{children:[Object(a.jsxs)("div",{className:se.a.topBar,children:[Object(a.jsx)("h3",{label:"my-games",children:"My Games"}),Object(a.jsx)(we.b.Provider,{value:{className:se.a.addGame},children:Object(a.jsx)(V.a,{title:"Add a new game",children:Object(a.jsx)("div",{children:Object(a.jsx)(me.b,{label:"add-game",fill:w?"#19aaee":"#33bbff",onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},onClick:function(){return h(!0)}})})})})]}),Object(a.jsx)("div",{className:se.a.gameContainer,children:c.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})).map((function(e,t){return Object(a.jsx)(ye,{id:e.id,gameDelete:u,setGameDelete:m},t)}))})]})]})}):(console.log("not logged in"),Object(a.jsx)(l.a,{to:"/login"}))},Te=n(114),Se=n.n(Te),_e=function(){var e=Object(l.g)(),t=Object(r.useContext)(L),n=Object(b.a)(t.api,1)[0],c=Object(b.a)(t.modalStatus,2)[1],o=Object(r.useState)(""),s=Object(b.a)(o,2),i=s[0],u=s[1],m=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i){t.next=4;break}c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Warning!",modalBodyText:"Quiz name can't not be empty",modalColors:"warning"})})),t.next=18;break;case 4:return t.next=6,n.makeAPIRequest("admin/quiz/new",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:i})});case 6:return a=t.sent,t.prev=7,t.next=10,a.json();case 10:r=t.sent,200===a.status?e.push("/"):c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:r.error,modalColors:"error"})})),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(7),console.log("ERROR",t.t0),c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","true"],exit:function(){return e.push("/")},confirm:m}),Object(a.jsxs)("div",{className:Se.a.main,children:[Object(a.jsx)("h2",{children:"Add a new game"}),Object(a.jsx)(te,{label:"Name",name:"new-game",value:i,onKeyDown:function(e){"Enter"===e.key&&m()},onChange:function(e){return u(e.target.value)}})]})]})},Ee=n(52),qe=n.n(Ee),Re=function(){var e=Object(r.useContext)(L),t=Object(b.a)(e.modalStatus,2),n=t[0],c=t[1],o={background:"#f8d7da",border:"#f5c2c7",text:"#842029"},s={background:"#fff3cd",border:"#ffecb5",text:"#664d03"},i={background:"#d1e7dd",border:"#badbcc",text:"#0f5132"},l={background:"#cfe2ff",border:"#b6d4fe",text:"#084298"},u=Object(r.useState)({background:"white",border:"black",text:"black"}),d=Object(b.a)(u,2),j=d[0],m=d[1],p=function(){c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!1,overlayActive:!1,modalHeaderText:"",modalBodyText:"",modalColors:""})}))};return Object(r.useEffect)((function(){switch(n.modalColors){case"error":m(o);break;case"warning":m(s);break;case"success":m(i);break;case"notification":m(l)}}),[n]),Object(r.useEffect)((function(){var e=function(e){"Escape"===e.key&&p()};return window.addEventListener("keyup",(function(t){return e(t)})),function(){window.removeEventListener("keyup",(function(t){return e(t)}))}}),[]),Object(a.jsxs)("div",{className:n.modalActive?qe.a.modalActive:qe.a.modalHidden,children:[Object(a.jsxs)("div",{className:qe.a.header,style:{backgroundColor:j.background,borderColor:j.border,color:j.text},children:[Object(a.jsx)("div",{"data-test-target":"modal-header",className:qe.a.title,children:n.modalHeaderText}),Object(a.jsx)("button",{"aria-label":"close-modal",className:qe.a.closeButton,onClick:p,children:"\xd7"})]}),Object(a.jsx)("div",{className:qe.a.body,children:Object(a.jsx)("div",{className:qe.a.text,children:n.modalBodyText})})]})},Ne=n(99),Be=n.n(Ne),Pe=function(){var e=Object(r.useContext)(L),t=Object(b.a)(e.modalStatus,2),n=t[0],c=t[1];return Object(a.jsx)("div",{className:n.overlayActive?Be.a.overlayActive:Be.a.overlayHidden,onClick:function(){c((function(e){return Object(z.a)(Object(z.a)({},e),{},{overlayActive:!1,modalActive:!1})}))}})},Ie=n(30),He=n(56),ze=n.n(He),Fe=n(27),Ge=n.n(Fe),De=function(e){var t=Object(r.useContext)(L),n=Object(b.a)(t.api,1)[0],c=Object(b.a)(t.modalStatus,2)[1],o=function(){var t=Object(j.a)(d.a.mark((function t(){var a,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=Object(Ie.a)(e.quiz.questions)).splice(e.id,1),t.next=4,n.makeAPIRequest("admin/quiz/".concat(e.quizid),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({questions:a})});case 4:return r=t.sent,t.prev=5,t.next=8,r.json();case 8:o=t.sent,200===r.status?(console.log("Delete question ",e.id),e.updateDelete(!e.delete)):c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:o.error,modalColors:"error"})})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log("ERROR",t.t0),c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:Ge.a.card,children:[Object(a.jsx)("h4",{className:Ge.a.title,children:"Question ".concat(e.id+1)}),Object(a.jsx)("p",{className:Ge.a.question,children:e.question.qString}),"img"===e.question.mediaType?Object(a.jsx)(a.Fragment,{children:e.question.img?Object(a.jsx)("div",{className:Ge.a.mediaContainer,children:Object(a.jsx)("img",{className:Ge.a.image,style:{backgroundColor:"#f0f0f0"},src:e.question.img,alt:"question ".concat(e.id," thumbnail")})}):Object(a.jsx)("div",{className:Ge.a.mediaContainer,children:Object(a.jsx)(me.a,{className:Ge.a.icon})})}):Object(a.jsx)(a.Fragment,{children:e.question.video?Object(a.jsx)("div",{className:Ge.a.mediaContainer,children:Object(a.jsx)("iframe",{className:Ge.a.image,src:e.question.video,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):Object(a.jsx)("div",{className:Ge.a.mediaContainer,children:Object(a.jsx)(me.a,{className:Ge.a.icon})})}),Object(a.jsxs)("div",{className:Ge.a.buttons,children:[Object(a.jsx)(i.b,{to:"/game/".concat(e.quizid,"/").concat(e.id),children:Object(a.jsx)(_,{className:Ge.a.button,children:Object(a.jsx)("span",{children:"Edit"})})}),Object(a.jsx)(E,{className:Ge.a.button,onClick:o,children:Object(a.jsx)("span",{children:"Delete"})})]})]})},Le=function(){var e=Object(l.h)().gameid,t=Object(l.g)(),n=Object(r.useContext)(L),c=Object(b.a)(n.api,1)[0],o=Object(b.a)(n.modalStatus,2)[1],s=Object(r.useState)(!1),i=Object(b.a)(s,2),u=i[0],m=i[1],p=Object(r.useState)(!1),x=Object(b.a)(p,2),O=x[0],h=x[1],f=Object(r.useState)(!1),v=Object(b.a)(f,2),g=v[0],y=v[1],w=Object(r.useState)(""),k=Object(b.a)(w,2),C=k[0],T=k[1],S=Object(r.useState)({id:0,name:"",questions:[]}),E=Object(b.a)(S,2),q=E[0],R=E[1],N=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object(Ie.a)(q.questions)).push({qString:"",type:"Single",timeLimit:"0",point:"0",answers:["",""],mediaType:"",correctAnswers:[!0,!1,!1,!1,!1,!1],img:"",video:""}),t.next=4,c.makeAPIRequest("admin/quiz/".concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({questions:n,thumbnail:""})});case 4:return a=t.sent,t.prev=5,t.next=8,a.json();case 8:r=t.sent,200===a.status?(console.log("add a new question"),console.log(q),m(!u)):o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:r.error,modalColors:"error"})})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),console.log("ERROR",t.t0),o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.makeAPIRequest("admin/quiz/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:if(a=t.sent,200!==n.status){t.next=11;break}return t.abrupt("return",a);case 11:o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("ERROR",t.t0),o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.makeAPIRequest("admin/quiz/".concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:C})});case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:a=t.sent,200===n.status?y(!1):o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("ERROR",t.t0),o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=7;break}return e.next=3,B();case 3:t=e.sent,R(t),T(t.name),console.log(t);case 7:case"end":return e.stop()}}),e)}))),[u,O,g]),localStorage.getItem("token")?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J,{visibilities:["false","false","false","false","true"],confirm:function(){return t.push("/")}}),Object(a.jsxs)("section",{className:ze.a.main,children:[Object(a.jsxs)("div",{className:ze.a.topBar,children:[g?Object(a.jsxs)("div",{className:ze.a.inputContainer,children:[Object(a.jsx)("input",{className:ze.a.nameInput,type:"text",value:C,onChange:function(e){return T(e.target.value)}}),Object(a.jsx)(A,{onClick:P,children:"OK"})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("h3",{children:[q.name,Object(a.jsx)(V.a,{title:"Edit game name",children:Object(a.jsx)("span",{className:ze.a.editIcon,children:Object(a.jsx)(pe.a,{onClick:function(){return y(!0)}})})})]})}),Object(a.jsx)(_,{onClick:N,children:"Add a question"})]}),Object(a.jsx)("div",{className:ze.a.questionContainer,children:q.questions.map((function(t,n){return Object(a.jsx)(De,{id:n,quizid:e,title:t.name,quiz:q,question:t,delete:O,updateDelete:h,thumbnail:q.questions[n].img},n)}))})]})]}):Object(a.jsx)(l.a,{to:"/"})};function Qe(){var e=Object(x.a)(["\n  width: ",";\n  @media screen and (max-width: 600px) {\n    width: ",";\n  }\n  @media screen and (min-width: 601px) and (max-width: 900px) {\n    width: ",";\n  }\n"]);return Qe=function(){return e},e}function We(){var e=Object(x.a)(["\n  border: none;\n  flex-direction: column;\n"]);return We=function(){return e},e}function Me(){var e=Object(x.a)(["\n  border: dashed 5px #e9e9e9;\n  width: ",";\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;\n  @media screen and (max-width: 600px) {\n    width: ",";\n    height: ",";\n  }\n  @media screen and (min-width: 601px) and (max-width: 900px) {\n    width: ",";\n    height: ",";\n  }\n"]);return Me=function(){return e},e}function Je(){var e=Object(x.a)(["\n  padding-top: 15px;\n  margin-left: -30px;\n  \n"]);return Je=function(){return e},e}function Ye(){var e=Object(x.a)(["\n  padding-top: 15px;\n  margin-left: -20px;\n  \n"]);return Ye=function(){return e},e}function Ue(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 250px;\n  justify-content: center;\n"]);return Ue=function(){return e},e}function Ke(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  @media screen and (max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return Ke=function(){return e},e}function Ve(){var e=Object(x.a)(["\n  max-width: 680px;\n  margin: 20px;\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(x.a)(["\n  width: 230px;\n  margin: 10px 0;\n\n  & h4 {\n    margin-block-start: 0;\n    margin-block-end: 0;\n  }\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 0 0 300px;\n  align-items: center;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(x.a)(["\n  width: 100%;\n  height: 100%;\n"]);return $e=function(){return e},e}function et(){var e=Object(x.a)(["\n  width: 90%;\n"]);return et=function(){return e},e}function tt(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  align-items: center;\n  border-right: solid 1px #cccccc;\n  @media screen and (max-width: 600px) {\n    border-right: none;\n  }\n"]);return tt=function(){return e},e}function nt(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  @media screen and (max-width: 600px) {\n    flex-direction: column;\n  }\n"]);return nt=function(){return e},e}var at="400px",rt="300px",ct="250px",ot=O.b.div(nt()),st=O.b.div(tt()),it=O.b.div(et()),lt=O.b.iframe($e()),ut=O.b.div(Ze()),dt=O.b.div(Xe()),jt=O.b.div(Ve()),bt=O.b.div(Ke()),mt=O.b.div(Ue()),pt=O.b.div(Ye()),xt=O.b.div(Je()),Ot=O.b.div(Me(),at,at,rt,rt,ct,ct),ht=Object(O.b)(Ot)(We()),ft=O.b.img(Qe(),at,rt,ct),vt=n(199),gt=n(203),yt=n(208),wt=n(202),kt=n(215),Ct=n(164),At=n(206),Tt=n(216),St=n(207),_t=n(218),Et=n(217),qt=function(){var e=Object(l.g)(),t=Object(r.useContext)(L),n=Object(b.a)(t.api,1)[0],c=Object(b.a)(t.modalStatus,2)[1],o=Object(l.h)(),s=o.gameid,i=o.qid,u=Object(vt.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:230,display:"flex",flexDirection:"column"}}}))(),m=Object(r.useState)("Single"),p=Object(b.a)(m,2),x=p[0],O=p[1],h=Object(r.useState)(""),f=Object(b.a)(h,2),v=f[0],g=f[1],y=Object(r.useState)("0"),w=Object(b.a)(y,2),k=w[0],C=w[1],A=Object(r.useState)("0"),T=Object(b.a)(A,2),S=T[0],_=T[1],E=Object(r.useState)("2"),q=Object(b.a)(E,2),R=q[0],N=q[1],B=Object(r.useState)([]),P=Object(b.a)(B,2),I=P[0],H=P[1],F=Object(r.useState)([!0,!1,!1,!1,!1,!1]),G=Object(b.a)(F,2),D=G[0],Q=G[1],W=Object(r.useState)(0),M=Object(b.a)(W,2),Y=M[0],U=M[1],K=Object(r.useState)(""),V=Object(b.a)(K,2),X=V[0],Z=V[1],$=Object(r.useState)({}),ee=Object(b.a)($,2),ne=ee[0],ae=ee[1],re=Object(r.useState)(!1),ce=Object(b.a)(re,2),oe=ce[0],se=ce[1],le=Object(r.useState)(""),ue=Object(b.a)(le,2),de=ue[0],me=ue[1],pe=Object(r.useState)(""),xe=Object(b.a)(pe,2),Oe=xe[0],he=xe[1],fe=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={qString:v,type:x,timeLimit:parseInt(k,10),point:parseInt(S,10),answers:I,mediaType:X,correctAnswers:D,img:de,video:Oe},console.log(t),(a=Object(Ie.a)(ne.questions))[i]=t,e.next=6,n.makeAPIRequest("admin/quiz/".concat(s),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({questions:a})});case 6:return r=e.sent,e.prev=7,e.next=10,r.json();case 10:o=e.sent,200===r.status?se(!0):c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:o.error,modalColors:"error"})})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.log("ERROR",e.t0),c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.makeAPIRequest("admin/quiz/".concat(s),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(a=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",a);case 11:c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),c((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ge=function(e){U(parseInt(e.target.value,10));for(var t=Object(Ie.a)(D),n=0;n<R;n++)t[n]=!1;t[e.target.value]=!0,Q(t),console.log(D),console.log(typeof Y)},ye=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.target.files[0]);case 2:n=e.sent,console.log(t.target.files),me(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t,n,a,r,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:for(t=e.sent,n=t.questions[i].answers,a=t.questions[i].correctAnswers,console.log(a),r=[],c=0;c<R;c++)r.push(n[c]||"");for(H(r),o=[],s=0;s<R;s++)o[s]=a[s]||!1;Q(o);case 12:case"end":return e.stop()}}),e)}))),[R]),Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:for(r in t=e.sent,ae(t),n=t.questions[i],console.log(n),g(n.qString),O(n.type),C(n.timeLimit?n.timeLimit.toString():""),_(n.point.toString()),Z(n.mediaType),N(n.answers.length),a=Object(Ie.a)(I),n.answers.forEach((function(e,t){a[t]=e})),H(a),console.log(n.correctAnswers),Q(n.correctAnswers),n.correctAnswers)n.correctAnswers[r]&&U(parseInt(r,10));me(n.img),he(n.video);case 20:case"end":return e.stop()}}),e)}))),[]),oe?Object(a.jsx)(l.a,{to:"/game/"+s}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","true"],exit:function(){return e.push("/game/"+s)},confirm:fe}),Object(a.jsx)(Ce,{children:Object(a.jsxs)(ot,{children:[Object(a.jsxs)(st,{children:[Object(a.jsx)(it,{children:Object(a.jsx)(_t.a,{placeholder:"Type your question",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},variant:"outlined",value:v,onChange:function(e){return g(e.target.value)}})}),X&&Object(a.jsx)(a.Fragment,{children:"img"===X?Object(a.jsx)(a.Fragment,{children:de?Object(a.jsxs)(ht,{children:[Object(a.jsx)(ft,{src:de,alt:v}),Object(a.jsx)(be.b,{style:{backgroundColor:"#e9e9e9",padding:"5px",fontSize:"1.2em",borderRadius:"50%",cursor:"pointer",position:"absolute",right:"4px",top:"4px",minWidth:"0"},onClick:function(){me("")}})]}):Object(a.jsxs)(Ot,{children:[Object(a.jsx)("label",{htmlFor:"add-image",children:Object(a.jsx)(je.a,{style:{width:"200px",height:"200px",color:"#e9e9e9",cursor:"pointer"}})}),Object(a.jsx)("input",{type:"file",id:"add-image",file:de,onChange:ye,hidden:!0})]})}):Object(a.jsx)(ht,{children:Object(a.jsx)(lt,{src:Oe,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),Object(a.jsx)(jt,{children:Object(a.jsx)(wt.a,{component:"fieldset",className:u.formControl,children:Object(a.jsx)(bt,{children:I.map((function(e,t){return Object(a.jsxs)(mt,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(te,{label:"Answer ".concat(t+1),value:e,onChange:function(e){return function(e,t){var n=Object(Ie.a)(I);n[t]=e,H(n)}(e.target.value,t)}})}),"Multiple"===x?Object(a.jsx)(pt,{children:Object(a.jsx)(At.a,{control:Object(a.jsx)(Et.a,{checked:D[t]||!1,onChange:function(e){return function(e,t){var n=Object(Ie.a)(D);n[t]=e.target.checked,console.log("correct answers",n),Q(n)}(e,t)}})})}):Object(a.jsx)(xt,{children:Object(a.jsx)(Tt.a,{checked:Y===t,onChange:ge,value:t,name:"correct-answer-radio"})})]},t)}))})})})]}),Object(a.jsxs)(ut,{children:[Object(a.jsx)(dt,{children:Object(a.jsxs)(wt.a,{component:"fieldset",children:[Object(a.jsx)(Ct.a,{component:"legend",children:"Media Type"}),Object(a.jsxs)(St.a,{"aria-label":"media type",name:"media",value:X,onChange:function(e){return Z(e.target.value)},children:[Object(a.jsx)(At.a,{value:"img",control:Object(a.jsx)(Tt.a,{}),label:"Image"}),Object(a.jsx)(At.a,{value:"video",control:Object(a.jsx)(Tt.a,{}),label:"Video"})]})]})}),"video"===X&&Object(a.jsx)(dt,{children:Object(a.jsx)(te,{label:"Youtube Video (copy the URL)",value:Oe,onChange:function(e){var t=e.target.value.replace("watch?v=","embed/");he(t)}})}),Object(a.jsx)(dt,{children:Object(a.jsx)(te,{label:"Time limit",value:k,onChange:function(e){return C(e.target.value)}})}),Object(a.jsx)(dt,{children:Object(a.jsx)(te,{label:"Point",value:S,onChange:function(e){return _(e.target.value)}})}),Object(a.jsx)(dt,{children:Object(a.jsxs)(wt.a,{className:u.formControl,children:[Object(a.jsx)(gt.a,{id:"type-select-label",children:"Question Type"}),Object(a.jsxs)(kt.a,{labelId:"type-select-label",id:"type-select",value:x,onChange:function(e){return O(e.target.value)},children:[Object(a.jsx)(yt.a,{value:"Multiple",children:"Multiple choice"}),Object(a.jsx)(yt.a,{value:"Single",children:"Single choice"})]})]})}),Object(a.jsx)(dt,{children:Object(a.jsxs)(wt.a,{className:u.formControl,children:[Object(a.jsx)(gt.a,{id:"answers-select-label",children:"Number of Answers"}),Object(a.jsxs)(kt.a,{labelId:"answers-select-label",id:"answers-select",value:R,onChange:function(e){return N(e.target.value)},children:[Object(a.jsx)(yt.a,{value:2,children:"2"}),Object(a.jsx)(yt.a,{value:3,children:"3"}),Object(a.jsx)(yt.a,{value:4,children:"4"}),Object(a.jsx)(yt.a,{value:5,children:"5"}),Object(a.jsx)(yt.a,{value:6,children:"6"})]})]})})]})]})})]})})},Rt=n(12);function Nt(){var e=Object(x.a)(["\n  transform: translateY(20%);\n  margin-left: 5px;\n  color: #19aaee;\n  cursor: pointer;\n"]);return Nt=function(){return e},e}var Bt=Object(O.b)(me.c)(Nt()),Pt=n(210),It=n(214),Ht=n(213),zt=n(209),Ft=n(211),Gt=n(212),Dt=n(204),Lt=n(39),Qt=n(20);function Wt(){var e=Object(x.a)(["\n  padding: 20px;\n"]);return Wt=function(){return e},e}function Mt(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  @media screen and (max-width: 800px) {\n    flex-direction: column;\n  }\n"]);return Mt=function(){return e},e}function Jt(){var e=Object(x.a)(["\n  margin-block-end: 0;\n"]);return Jt=function(){return e},e}var Yt=O.b.h1(Jt()),Ut=O.b.div(Mt()),Kt=Object(O.b)(Ce)(Wt()),Vt=n(165),Xt=function(){var e=Object(l.h)().sessionid,t=Object(r.useContext)(L),n=Object(l.g)(),c=Object(b.a)(t.api,1)[0],o=Object(b.a)(t.modalStatus,2)[1],s=Object(r.useState)([]),i=Object(b.a)(s,2),u=i[0],m=i[1],p=Object(r.useState)([]),x=Object(b.a)(p,2),O=x[0],h=x[1],f=Object(r.useState)([]),v=Object(b.a)(f,2),g=v[0],y=v[1],w=Object(r.useState)([]),k=Object(b.a)(w,2),C=k[0],A=k[1],T=Object(r.useState)([]),S=Object(b.a)(T,2),_=S[0],E=S[1],q=Object(vt.a)((function(){return{tableContainer:{margin:20,minWidth:350,maxWidth:650},table:{minWidth:350,maxWidth:650,width:"90%",margin:"0 auto","& th":{fontSize:"1.2em",fontWeight:"bold"},"& td":{fontSize:"1em"}},chart:{margin:"20px"}}})),R=Object(Rt.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"#333333",maxWidth:250,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9"}}}))(V.a),N=q(),B=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.makeAPIRequest("admin/session/".concat(e,"/results"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:if(a=t.sent,200!==n.status){t.next=11;break}return t.abrupt("return",a.results);case 11:o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("ERROR",t.t0),o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t,n,a,r,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,m(t),n=[],a=[],r=[],c=[],t.forEach((function(e,t){var o=0,s=0;console.log(e.name),console.log(e.answers),e.answers.forEach((function(e,t){var n=(new Date(e.answeredAt)-new Date(e.questionStartedAt))/1e3;r[t]?r[t].time+=n:r[t]={question:t+1+"",time:n},e.correct?(o++,s+=Math.round(e.questionPoints*(1-n/(e.questionDuration-.5))),c[t]?c[t].numberOfPeopleCorrect++:c[t]={question:t+1+"",numberOfPeopleCorrect:1}):c[t]||(c[t]={question:t+1+"",numberOfPeopleCorrect:0})})),n.push(o),a.push(s)})),o=r.map((function(e){return{question:e.question,time:e.time/t.length}})),A(o),h(n),y(a),s=c.map((function(e){return{question:e.question,percentage:e.numberOfPeopleCorrect/t.length}})),E(s);case 15:case"end":return e.stop()}}),e)}))),[]),Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","false"],exit:function(){return n.push("/")}}),Object(a.jsxs)(Kt,{children:[Object(a.jsx)(Yt,{children:"Game results"}),Object(a.jsxs)("p",{children:["session ",e]}),Object(a.jsx)(zt.a,{component:Dt.a,className:N.tableContainer,children:Object(a.jsxs)(Pt.a,{className:N.table,"aria-label":"performance-table",children:[Object(a.jsx)("caption",{children:"Player Performance"}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(Gt.a,{children:[Object(a.jsx)(Ht.a,{align:"center",children:"Player"}),Object(a.jsx)(Ht.a,{align:"center",children:"Score"}),Object(a.jsxs)(Ht.a,{align:"center",children:["Points",Object(a.jsx)(R,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Vt.a,{color:"inherit",children:"Points scored are the product of the percentage of time left and total points of the question."}),Object(a.jsxs)("em",{children:[Object(a.jsx)("b",{children:"Equation: "}),"points = (1 - (time taken/duration)) * total points"]}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"Total points scored is the sum of points scored of all questions"})]}),children:Object(a.jsx)("span",{children:Object(a.jsx)(Bt,{})})})]})]})}),Object(a.jsx)(It.a,{children:g&&Object(a.jsx)(a.Fragment,{children:g.sort((function(e,t){return t-e})).slice(0,5).map((function(e,t){return Object(a.jsxs)(Gt.a,{children:[Object(a.jsx)(Ht.a,{align:"center",children:u[t].name}),Object(a.jsx)(Ht.a,{align:"center",children:"".concat(O[t]," out of ").concat(u[t].answers.length)}),Object(a.jsx)(Ht.a,{align:"center",children:"".concat(e,"/").concat(u[t].answers.reduce((function(e,t){return e+t.questionPoints}),0))})]},u[t].name)}))})})]})}),Object(a.jsxs)(Ut,{children:[Object(a.jsx)(Dt.a,{className:N.chart,children:Object(a.jsxs)(Lt.c,{data:_,label:"Percentage-of-People-Correct-by-Question",children:[Object(a.jsx)(Lt.a,{}),Object(a.jsx)(Lt.e,{tickFormat:function(e){return e.tickFormat(null,"%")}}),Object(a.jsx)(Lt.b,{valueField:"percentage",argumentField:"question"}),Object(a.jsx)(Lt.d,{text:"Percentage of People Correct by Question"}),Object(a.jsx)(Qt.a,{})]})}),Object(a.jsx)(Dt.a,{className:N.chart,children:Object(a.jsxs)(Lt.c,{data:C,label:"Average-Time-Taken-by-Question",children:[Object(a.jsx)(Lt.a,{}),Object(a.jsx)(Lt.e,{}),Object(a.jsx)(Lt.b,{valueField:"time",argumentField:"question"}),Object(a.jsx)(Lt.d,{text:"Average Time Taken by Question"}),Object(a.jsx)(Qt.a,{})]})})]})]})]})},Zt=function(){var e=Object(l.h)(),t=e.sessionid,n=e.gameid,c=Object(r.useContext)(L),o=Object(b.a)(c.api,1)[0],s=Object(b.a)(c.modalStatus,2)[1],i=Object(l.g)(),u=Object(r.useState)(t),m=Object(b.a)(u,2),p=m[0],x=m[1],O=Object(r.useState)(""),h=Object(b.a)(O,2),f=h[0],v=h[1],g=function(){var e=Object(j.a)(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(f+" join session "+p),""!==f){e.next=5;break}s((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Warning!",modalBodyText:"Sorry, player name can't be empty",modalColors:"warning"})})),e.next=19;break;case 5:return e.next=7,o.makeAPIRequest("play/join/".concat(t),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:f})});case 7:return a=e.sent,e.prev=8,e.next=11,a.json();case 11:r=e.sent,200===a.status?(console.log(r),i.push("/lobby/".concat(t,"/").concat(n,"/").concat(r.playerId))):s((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:r.error,modalColors:"error"})})),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log("ERROR",e.t0),s((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","true"],exit:function(){return i.push("/")},confirm:g}),Object(a.jsxs)(Ce,{children:[Object(a.jsxs)("p",{children:["Join session ",t]}),Object(a.jsx)("div",{children:Object(a.jsx)(te,{name:"sessionId",label:"Session ID",value:p,onChange:function(e){return x(e.target.value)}})}),Object(a.jsx)("div",{children:Object(a.jsx)(te,{name:"playerName",label:"Player Name",value:f,onChange:function(e){return v(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&g()}})})]})]})},$t=n(84),en=n(115),tn=n(166);function nn(){var e=Object(x.a)(["\n  margin-left: 10px;\n"]);return nn=function(){return e},e}function an(){var e=Object(x.a)(["\n  position: absolute;\n  left: 20px;\n  top: 60px;\n  transform: translateY(-50%);\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  text-align: center;\n  background-color: #7d2ae8;\n  & p {\n    color: white;\n    font-weight: bold;\n    font-size: 4em;\n    margin: auto;\n    line-height: 100px;\n    @media screen and (max-width: 650px) {\n      font-size: 2em;\n      line-height: 50px;\n    }\n  }\n  @media screen and (max-width: 650px) {\n    width: 50px;\n    height: 50px;\n    left: 10px;\n    top: 30px;\n  }\n"]);return an=function(){return e},e}function rn(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n"]);return rn=function(){return e},e}function cn(){var e=Object(x.a)(["\n  width: 150px;\n  height: 50px;\n\n  text-align: left;\n  & span {\n    color: white;\n    line-height: 50px;\n    font-size: 1.5em;\n    font-weight: bold;\n  }\n"]);return cn=function(){return e},e}function on(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  width: 400px;\n  height: 100px;\n  margin: 3px;\n  align-items: center;\n  justify-content: space-around;\n  background-color: #f0f0f0;\n  border-radius: 4px;\n  @media screen and (max-width: 500px) {\n    width: 350px;\n  }\n  @media screen and (min-width: 501px) and (max-width: 700px) {\n    width: 450px;\n  }\n  @media screen and (min-width: 701px) and (max-width: 900px) {\n    width: 300px;\n  }\n"]);return on=function(){return e},e}function sn(){var e=Object(x.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  @media screen and (max-width: 700px) {\n    display: flex;\n    flex-direction: column;\n  }\n\n"]);return sn=function(){return e},e}function ln(){var e=Object(x.a)(["\n  margin: 24px;\n"]);return ln=function(){return e},e}function un(){var e=Object(x.a)(["\n  width: ",";\n  @media screen and (max-width: 600px) {\n    width: ",";\n  }\n  @media screen and (min-width: 601px) and (max-width: 900px) {\n    width: ",";\n  }\n"]);return un=function(){return e},e}function dn(){var e=Object(x.a)(["\n  width: ",";\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  overflow: hidden;  \n  @media screen and (max-width: 600px) {\n    width: ",";\n    height: ",";\n\n  }\n  @media screen and (min-width: 601px) and (max-width: 900px) {\n    width: ",";\n    height: ",";\n\n  }\n"]);return dn=function(){return e},e}function jn(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n"]);return jn=function(){return e},e}function bn(){var e=Object(x.a)(["\n  text-align: center;\n  & h1 {\n    font-size: 2em;\n    @media screen and (max-width: 600px) {\n      font-size: 1.5em;\n    }\n  }\n"]);return bn=function(){return e},e}function mn(){var e=Object(x.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return mn=function(){return e},e}function pn(){var e=Object(x.a)(["\n  position: relative;\n"]);return pn=function(){return e},e}var xn="500px",On="400px",hn="300px",fn=Object(O.b)(Ce)(pn()),vn=O.b.div(mn()),gn=O.b.div(bn()),yn=Object(O.b)(gn)(jn()),wn=O.b.div(dn(),xn,On,hn,hn,On,hn),kn=O.b.img(un(),xn,hn,On),Cn=O.b.div(ln()),An=O.b.div(sn()),Tn=O.b.div(on()),Sn=O.b.div(cn()),_n=O.b.div(rn()),En=O.b.div(an()),qn=O.b.div(nn()),Rn=Object(vt.a)((function(e){return{root:{display:"flex"},formControl:{margin:e.spacing(3)},checkboxLabel:{margin:0}}})),Nn=Object(Rt.a)({root:{color:"white","&$checked":{color:"white"}},checked:{}})((function(e){return Object(a.jsx)(Et.a,Object(z.a)({color:"default"},e))})),Bn=Object(Rt.a)({root:{color:"white","&$checked":{color:"white"}},checked:{}})((function(e){return Object(a.jsx)(Tt.a,Object(z.a)({color:"default"},e))})),Pn={color:"white",fontSize:"1em"},In=["rgb(226, 27, 60)","rgb(19, 104, 206)","rgb(216, 158, 0)","rgb(38, 137, 12)","#7d2ae8","rgb(235, 103, 16)"],Hn=function(){var e=Object(l.h)(),t=e.sessionid,n=e.playerid,c=e.gameid,o=Object(r.useContext)(L),s=Object(b.a)(o.api,1)[0],i=Object(b.a)(o.modalStatus,2)[1],u=Object(l.g)(),m=Object(r.useState)({}),p=Object(b.a)(m,2),x=p[0],O=p[1],h=Object(r.useState)({}),f=Object(b.a)(h,2),v=f[0],g=f[1],y=Object(r.useState)("0"),w=Object(b.a)(y,2),k=w[0],C=w[1],A=Object(r.useState)([!1,!1,!1,!1,!1,!1]),T=Object(b.a)(A,2),S=T[0],E=T[1],q=Object(r.useState)([]),R=Object(b.a)(q,2),N=R[0],B=R[1],P=Object(r.useState)(0),I=Object(b.a)(P,2),H=I[0],F=I[1],G=Object(r.useState)(!1),D=Object(b.a)(G,2),Q=D[0],W=D[1],M=Object(r.useState)(!1),Y=Object(b.a)(M,2),U=Y[0],K=Y[1],V=Rn(),X=Object(r.useRef)(Date.now()),Z=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(Ie.a)(S))[n]=t.target.checked,console.log(a),E(a),r=[],a.forEach((function(e,t){e&&r.push(t)})),e.next=8,ee(r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(C(parseInt(t.target.value,10)),n=Object(Ie.a)(S),a=0;a<x.answers.length;a++)n[a]=!1;return n[t.target.value]=!0,E(n),r=[],n.forEach((function(e,t){e&&r.push(t)})),e.next=9,ee(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("play/".concat(n,"/answer"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({answerIds:t})});case 2:return a=e.sent,e.prev=3,e.next=6,a.json();case 6:r=e.sent,200===a.status?console.log("answers:",t):console.log(r.error),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("play/".concat(n,"/status"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(a=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",a.started);case 11:console.log(a.error);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("play/".concat(n,"/question"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(a=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",a.question);case 11:i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("play/".concat(n,"/answer"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(a=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",a.answerIds);case 11:i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(d.a.mark((function e(){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("admin/session/".concat(t,"/status"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:if(a=e.sent,200!==n.status){e.next=11;break}return e.abrupt("return",a.results);case 11:i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("admin/quiz/".concat(c,"/advance"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:n=e.sent,200===t.status?(console.log("advanced"),F((function(e){return e+1}))):i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:n.error,modalColors:"error"})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"!==n){e.next=6;break}return e.next=3,re();case 3:t=e.sent,g(t),t.position===t.questions.length&&W(!0);case 6:case"end":return e.stop()}}),e)}))),[H]),Object($t.a)(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"===n){e.next=15;break}return e.next=3,te();case 3:if(!e.sent){e.next=12;break}return e.next=7,ne();case 7:(t=e.sent).qString!==x.qString&&(C(""),E([!1,!1,!1,!1,!1,!1]),K(!1),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!1,overlayActive:!1})})),X.current=Date.now()),O(t),e.next=15;break;case 12:console.log(Q),W(!0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!1,overlayActive:!1})}));case 15:case"end":return e.stop()}}),e)}))),500);var oe=function(e,t){var n=[];if(e.forEach((function(e,t){e&&n.push(t)})),t.length!==n.length)return!1;for(var a=0;a<n.length;a++)if(t[a]!==n[a])return!1;return!0},se=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),e.next=3,ae();case 3:t=e.sent,B(t),console.log(t),console.log(S),oe(S,t)?i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Correct!",modalBodyText:"Well done!",modalColors:"success"})})):i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Incorret",modalBodyText:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("p",{children:"Tough Quesiton!"}),Object(a.jsx)("p",{children:"Correct Answer(s): ".concat(t.map((function(e){return x.answers[e]})))})]}),modalColors:"error"})}));case 8:case"end":return e.stop()}}),e)}))),600);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","false"],exit:function(){return u.push("/")}}),Object(a.jsx)(fn,{children:"0"===n?Object(a.jsxs)(a.Fragment,{children:[v.questions&&v.position>=0&&v.position<v.questions.length?Object(a.jsx)("div",{className:V.root,children:Object(a.jsxs)(vn,{children:[Object(a.jsxs)(yn,{children:[Object(a.jsx)("h1",{children:v.questions[v.position].qString}),Object(a.jsx)(qn,{children:Object(a.jsx)(_,{onClick:ce,children:v.position===v.questions.length-1?"End the game":"Next Question"})})]}),v.questions[v.position].mediaType&&Object(a.jsx)(a.Fragment,{children:"img"===v.questions[v.position].mediaType?Object(a.jsx)(a.Fragment,{children:v.questions[v.position].img?Object(a.jsx)(wn,{children:Object(a.jsx)(kn,{src:v.questions[v.position].img,alt:v.questions[v.position].qString})}):Object(a.jsx)(a.Fragment,{})}):Object(a.jsx)(wn,{children:Object(a.jsx)(lt,{src:v.questions[v.position].video,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),Object(a.jsx)(Cn,{children:Object(a.jsx)(An,{children:v.questions[v.position].answers.map((function(e,t){return Object(a.jsxs)(Tn,{style:{backgroundColor:In[t]},children:[Object(a.jsx)(Sn,{children:Object(a.jsx)("span",{children:e})}),v.questions[v.position].correctAnswers[t]?Object(a.jsx)(be.a,{style:Pn}):Object(a.jsx)(be.b,{style:Pn})]},t)}))})})]})}):Object(a.jsx)("p",{children:"Loading..."}),Q&&Object(a.jsx)(l.a,{to:"/game/result/".concat(t)})]}):Object(a.jsxs)(a.Fragment,{children:[void 0!==x.qString?Object(a.jsxs)("div",{className:V.root,children:[Object(a.jsx)(en.a,{date:X.current+1e3*x.timeLimit,renderer:function(e){var t=e.seconds;return Object(a.jsx)(En,{children:Object(a.jsx)("p",{children:t})})},onComplete:se}),Object(a.jsxs)(vn,{children:[Object(a.jsx)(gn,{children:Object(a.jsx)("h1",{children:x.qString})}),x.mediaType&&Object(a.jsx)(a.Fragment,{children:"img"===x.mediaType?Object(a.jsx)(a.Fragment,{children:x.img&&Object(a.jsx)(wn,{children:Object(a.jsx)(kn,{src:x.img,alt:x.qString})})}):Object(a.jsx)(wn,{children:Object(a.jsx)(lt,{src:x.video,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})}),Object(a.jsx)(wt.a,{component:"fieldset",className:V.formControl,children:"Multiple"===x.type?Object(a.jsx)(tn.a,{children:Object(a.jsx)(An,{children:x.answers.map((function(e,t){return Object(a.jsxs)(Tn,{style:{backgroundColor:In[t],opacity:!U||N&&N.includes(t)?1:.3},children:[Object(a.jsx)(Sn,{children:Object(a.jsx)("span",{children:e})}),U?Object(a.jsx)(a.Fragment,{children:!N||N.includes(t)?Object(a.jsx)(be.a,{style:Pn}):Object(a.jsx)(be.b,{style:Pn})}):Object(a.jsx)(_n,{children:Object(a.jsx)(At.a,{className:V.checkboxLabel,control:Object(a.jsx)(Nn,{disabled:U,checked:S[t],onChange:function(e){return Z(e,t)},inputProps:{"aria-label":"answer checkbox"}})})})]},t)}))})}):Object(a.jsx)(An,{children:x.answers.map((function(e,t){return Object(a.jsxs)(Tn,{style:{backgroundColor:In[t],opacity:!U||N&&N.includes(t)?1:.3},children:[Object(a.jsx)(Sn,{children:Object(a.jsx)("span",{children:e})}),U?Object(a.jsx)(a.Fragment,{children:!N||N.includes(t)?Object(a.jsx)(be.a,{style:Pn}):Object(a.jsx)(be.b,{style:Pn})}):Object(a.jsx)(_n,{children:Object(a.jsx)(Bn,{disabled:U,checked:k===t,onChange:$,value:t,name:"choose-answer-radio",inputProps:{"aria-label":"answer radio"}})})]},t)}))})})]})]}):Object(a.jsx)("p",{children:"Loading..."}),Q&&Object(a.jsx)(l.a,{to:"/play/result/".concat(n)})]})})]})};function zn(){var e=Object(x.a)(["\n  position: absolute;\n  top: 80px;\n  left: 20px;\n  height: 40px;\n  min-width: 50px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: 0;\n  justify-content: center;\n  & span {\n    line-height: 40px;\n    margin: 2px;\n    & svg {\n      transform: translateY(10%);\n    }\n  }\n"]);return zn=function(){return e},e}function Fn(){var e=Object(x.a)(["\n  min-width: 100px;\n  width: fit-content;\n  height: 50px;\n  background-color: #311b92;\n  text-align: center;\n  padding: 0 10px;\n  margin: 20px;\n  & span {\n    color: white;\n    font-size: 1.5em;\n    font-weight: bold;\n    line-height: 50px;\n  }\n\n"]);return Fn=function(){return e},e}function Gn(){var e=Object(x.a)(["\n  position: absolute;\n  top: 80px;\n  right: 20px;\n"]);return Gn=function(){return e},e}function Dn(){var e=Object(x.a)(["\n  flex-direction: row;\n  max-width: 680px;\n  flex-wrap: wrap;\n"]);return Dn=function(){return e},e}function Ln(){var e=Object(x.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  & h1 {\n    color: white;\n    font-size: 2.5em;\n    margin-block-end: 0.3em;\n  }\n  & p {\n    color: white;\n    font-weight: bold;\n  }\n"]);return Ln=function(){return e},e}function Qn(){var e=Object(x.a)(["\n  flex: 1;\n  background-color: transparent;\n  box-shadow: none;\n"]);return Qn=function(){return e},e}function Wn(){var e=Object(x.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background: linear-gradient(20deg,#512da8,#311b92  );\n"]);return Wn=function(){return e},e}var Mn=O.b.section(Wn()),Jn=Object(O.b)(Ce)(Qn()),Yn=O.b.div(Ln()),Un=Object(O.b)(Yn)(Dn()),Kn=Object(O.b)(P)(Gn()),Vn=O.b.div(Fn()),Xn=Object(O.b)(Vn)(zn()),Zn=function(){var e=Object(l.h)(),t=e.sessionid,n=e.gameid,c=e.playerid,o=Object(r.useContext)(L),s=Object(b.a)(o.api,1)[0],i=Object(b.a)(o.modalStatus,2)[1],u=Object(l.g)(),m=Object(r.useState)(!1),p=Object(b.a)(m,2),x=p[0],O=p[1],h=Object(r.useState)(!1),f=Object(b.a)(h,2),v=f[0],g=f[1],y=Object(r.useState)({}),w=Object(b.a)(y,2),k=w[0],C=w[1],A=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("admin/session/".concat(t,"/status"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return n=e.sent,e.prev=3,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 11:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("admin/quiz/".concat(n,"/advance"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:a=e.sent,200===t.status?g(!0):i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.makeAPIRequest("play/".concat(c,"/status"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:if(n=e.sent,200!==t.status){e.next=11;break}return e.abrupt("return",n.started);case 11:i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:n.error,modalColors:"error"})}));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("ERROR",e.t0),i((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var a,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")||"0"!==c){e.next=11;break}return e.next=3,A();case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,o=r.results,console.log(o),200===a.status&&(O(!0),o.position>=0&&o.position<o.questions.length&&u.push("/play/".concat(t,"/").concat(n,"/").concat(c))),C(o);case 11:case"end":return e.stop()}}),e)}))),[v]),Object($t.a)(Object(j.a)(d.a.mark((function e(){var a,r,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("0"===c){e.next=8;break}return e.next=3,S();case 3:a=e.sent,console.log("game started:",a),a&&u.push("/play/".concat(t,"/").concat(n,"/").concat(c)),e.next=16;break;case 8:return e.next=10,A();case 10:return r=e.sent,e.next=13,r.json();case 13:o=e.sent,s=o.results,C(s);case 16:case"end":return e.stop()}}),e)}))),500),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Mn,{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","false"],exit:function(){return u.push("/")}}),Object(a.jsx)(Jn,{children:x?Object(a.jsxs)(a.Fragment,{children:[k&&Object(a.jsx)(a.Fragment,{children:k.players&&Object(a.jsxs)(Xn,{children:[Object(a.jsx)("span",{children:Object(a.jsx)(me.d,{})}),Object(a.jsx)("span",{children:k.players.length})]})}),Object(a.jsx)(Kn,{onClick:T,children:"Start"}),Object(a.jsx)(Un,{children:k.players&&Object(a.jsx)(a.Fragment,{children:k.players.map((function(e,t){return Object(a.jsx)(Vn,{children:Object(a.jsx)("span",{children:e})},t)}))})})]}):Object(a.jsxs)(Yn,{children:[Object(a.jsx)("h1",{children:"You're in!"}),Object(a.jsx)("p",{children:"See your nickname on screen?"})]})})]})})},$n=function(){var e=Object(l.h)().playerid,t=Object(r.useContext)(L),n=Object(l.g)(),c=Object(b.a)(t.api,1)[0],o=Object(b.a)(t.modalStatus,2)[1],s=Object(r.useState)(0),i=Object(b.a)(s,2),u=i[0],m=i[1],p=Object(r.useState)([]),x=Object(b.a)(p,2),O=x[0],h=x[1],f=Object(r.useState)([]),v=Object(b.a)(f,2),g=v[0],y=v[1],w=Object(r.useState)([]),k=Object(b.a)(w,2),C=k[0],A=k[1],T=Object(r.useState)([]),S=Object(b.a)(T,2),_=S[0],E=S[1],q=Object(vt.a)({tableContainer:{margin:20,minWidth:350,maxWidth:650},table:{minWidth:350,maxWidth:650,width:"90%",margin:"0 auto","& th":{fontSize:"1.2em",fontWeight:"bold"},"& td":{fontSize:"1em"}},greencheck:{color:"#66bb6a"},redcross:{color:"#ef5350"},message:{fontSize:"1.2em"}}),R=Object(Rt.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"#333333",maxWidth:250,fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9"}}}))(V.a),N=q(),B=function(){var t=Object(j.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.makeAPIRequest("play/".concat(e,"/results"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:if(a=t.sent,200!==n.status){t.next=11;break}return t.abrupt("return",a);case 11:o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:a.error,modalColors:"error"})}));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log("ERROR",t.t0),o((function(e){return Object(z.a)(Object(z.a)({},e),{},{modalActive:!0,overlayActive:!0,modalHeaderText:"Error",modalBodyText:"Sorry! Can' connect to the server.",modalColors:"error"})}));case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(d.a.mark((function e(){var t,n,a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,h(t),n=0,a=[],r=[],c=[],t.forEach((function(e,t){console.log(e),r[t]=Math.round((new Date(e.answeredAt)-new Date(e.questionStartedAt))/1e3),e.correct?(c[t]=Math.round(e.questionPoints*(1-r[t]/(e.questionDuration-.5))),n+=c[t],a[t]=!0):(a[t]=!1,c[t]=0)})),m(n),E(c),y(a),console.log(g),console.log(a),A(r);case 15:case"end":return e.stop()}}),e)}))),[]),Object(a.jsxs)("section",{children:[Object(a.jsx)(J,{visibilities:["false","false","false","true","false"],exit:function(){return n.push("/")}}),Object(a.jsxs)(Ce,{children:[Object(a.jsx)(Yt,{children:"Game result"}),Object(a.jsxs)("p",{className:N.message,children:["You scored ",Object(a.jsx)("strong",{children:u})," points out of ",O.reduce((function(e,t){return e+t.questionPoints}),0),", ",u>O.reduce((function(e,t){return e+t.questionPoints}),0)/2?"well done!":"You can do better next time."]}),Object(a.jsx)(zt.a,{component:Dt.a,className:N.tableContainer,children:Object(a.jsxs)(Pt.a,{className:N.table,"aria-label":"caption table",children:[Object(a.jsx)("caption",{children:"Player Performance"}),Object(a.jsx)(Ft.a,{children:Object(a.jsxs)(Gt.a,{children:[Object(a.jsx)(Ht.a,{align:"center",children:"Question"}),Object(a.jsx)(Ht.a,{align:"center",children:"Result"}),Object(a.jsx)(Ht.a,{align:"center",children:"Time Taken"}),Object(a.jsxs)(Ht.a,{align:"center",children:["Points",Object(a.jsx)(R,{title:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Vt.a,{color:"inherit",children:"Points scored are the product of the percentage of time left and total points of the question."}),Object(a.jsxs)("em",{children:[Object(a.jsx)("b",{children:"Equation: "}),"points = (1 - (time taken/duration)) * total points"]}),Object(a.jsx)("br",{})]}),children:Object(a.jsx)("span",{children:Object(a.jsx)(Bt,{})})})]})]})}),Object(a.jsx)(It.a,{children:O&&Object(a.jsx)(a.Fragment,{children:O.map((function(e,t){return Object(a.jsxs)(Gt.a,{children:[Object(a.jsx)(Ht.a,{align:"center",children:t+1+""}),Object(a.jsx)(Ht.a,{align:"center",children:e.correct?Object(a.jsx)(be.a,{className:N.greencheck}):Object(a.jsx)(be.b,{className:N.redcross})}),Object(a.jsx)(Ht.a,{align:"center",children:0===C[t]?Object(a.jsx)(a.Fragment,{children:"Not answered"}):C[t]+"/"+(O[t].questionDuration-.5)}),Object(a.jsx)(Ht.a,{align:"center",children:"".concat(_[t],"/").concat(O[t].questionPoints)})]},t)}))})})]})})]})]})};var ea=function(){return Object(a.jsx)(Q,{children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(i.a,{basename:"/BigBrain",children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/login",children:Object(a.jsx)(ne,{})}),Object(a.jsx)(l.b,{path:"/register",children:Object(a.jsx)(ce,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/",children:Object(a.jsx)(Ae,{})}),Object(a.jsx)(l.b,{path:"/newgame",children:Object(a.jsx)(_e,{})}),Object(a.jsx)(l.b,{path:"/lobby/:sessionid/:gameid/:playerid",children:Object(a.jsx)(Zn,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/game/result/:sessionid",children:Object(a.jsx)(Xt,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/game/:gameid",children:Object(a.jsx)(Le,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/game/:gameid/:qid",children:Object(a.jsx)(qt,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/play/join/:sessionid/:gameid",children:Object(a.jsx)(Zt,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/play/:sessionid/:gameid/:playerid",children:Object(a.jsx)(Hn,{})}),Object(a.jsx)(l.b,{exact:!0,path:"/play/result/:playerid",children:Object(a.jsx)($n,{})})]})}),Object(a.jsx)(Pe,{}),Object(a.jsx)(Re,{})]})})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ea,{})}),document.getElementById("root"))},24:function(e,t,n){e.exports={card:"GameCard_card__FP-Ao",thumbnail:"GameCard_thumbnail__2UDQn",addImageIcon:"GameCard_addImageIcon__3Z4kV",img:"GameCard_img__bPA2w",removeButton:"GameCard_removeButton__1SWya",questionNum:"GameCard_questionNum__xsOtc",info:"GameCard_info__32LXS",rightTopContainer:"GameCard_rightTopContainer__1yIoM",gameStatus:"GameCard_gameStatus__ABTwb",copyButton:"GameCard_copyButton__2Kkkf",confrimButton:"GameCard_confrimButton__ExZm7",metadata:"GameCard_metadata__3pH1R",buttons:"GameCard_buttons__LnSp9",gameButtons:"GameCard_gameButtons__2HJ0o",button:"GameCard_button__2ZIOd"}},27:function(e,t,n){e.exports={card:"QuestionCard_card__3EbUk",title:"QuestionCard_title__1K3jm",question:"QuestionCard_question__2Y9uQ",mediaContainer:"QuestionCard_mediaContainer__3jVJq",image:"QuestionCard_image__k9W4K",icon:"QuestionCard_icon__2r1mx",buttons:"QuestionCard_buttons__i2yo6",button:"QuestionCard_button__33QwG"}},42:function(e,t,n){e.exports={logo:"Nav_logo__348g8",path:"Nav_path__3bBuB",normal:"Nav_normal__1l64Q",hidden:"Nav_hidden__3a5Dm"}},43:function(e,t,n){e.exports={moreOptions:"Dropdown_moreOptions__2gqSh",moreOptionsWrapper:"Dropdown_moreOptionsWrapper__1yif6",icon:"Dropdown_icon__3VVFZ",dropdown:"Dropdown_dropdown__fVfEx",item:"Dropdown_item__13Fku",innerItem:"Dropdown_innerItem__3ks1c",content:"Dropdown_content__1bUId"}},52:function(e,t,n){e.exports={modalActive:"Modal_modalActive__33Ot0",modalHidden:"Modal_modalHidden__PnVGC",header:"Modal_header__StajR",title:"Modal_title__kbqpq",closeButton:"Modal_closeButton__840KP",body:"Modal_body__3Izuw"}},56:function(e,t,n){e.exports={main:"EditGamePage_main__2NqiE",topBar:"EditGamePage_topBar__wvXEE",editIcon:"EditGamePage_editIcon__1in3K",nameInput:"EditGamePage_nameInput__3QSKO",inputContainer:"EditGamePage_inputContainer__fBOsg",questionContainer:"EditGamePage_questionContainer__3D7_a"}},66:function(e,t,n){e.exports={passwordField:"PasswordInput_passwordField__MRlLL",passwordArea:"PasswordInput_passwordArea__25GYA",showPasswordLogo:"PasswordInput_showPasswordLogo__2tXYq"}},86:function(e,t,n){e.exports={main:"LoginPage_main__EKdF3",button:"LoginPage_button__QN7tV",message:"LoginPage_message__2VX3y",error:"LoginPage_error__NOlyT"}},87:function(e,t,n){e.exports={main:"RegisterPage_main__2DIPA",button:"RegisterPage_button__1lZFi",message:"RegisterPage_message__2QzAA",error:"RegisterPage_error__Ln2FR"}},88:function(e,t,n){e.exports={topBar:"DashboardPage_topBar__1HGtH",buttons:"DashboardPage_buttons__ErXe_",addGame:"DashboardPage_addGame__314Pn",gameContainer:"DashboardPage_gameContainer__1XA_F"}},98:function(e,t,n){e.exports={inputField:"TextInput_inputField__3XUYT",inputArea:"TextInput_inputArea__2AAl6"}},99:function(e,t,n){e.exports={overlayHidden:"Overlay_overlayHidden__1Up40",overlayActive:"Overlay_overlayActive__2AowR"}}},[[161,1,2]]]);
//# sourceMappingURL=main.4f353cf5.chunk.js.map